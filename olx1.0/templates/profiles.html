<!DOCTYPE html>
<html>
<head>
    <title>Manage Profiles</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>Manage Profiles</h1>

    <!-- Add Profile Form -->
    <form method="post" action="/profiles">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
        <label for="keyword">Keyword:</label>
        <input type="text" id="keyword" name="keyword">
        <label for="min_price">Min Price:</label>
        <input type="number" id="min_price" name="min_price">
        <label for="max_price">Max Price:</label>
        <input type="number" id="max_price" name="max_price">
        <label for="location">Location:</label>
        <input type="text" id="location" name="location">
        <label for="category">Category:</label>
        <select id="category" name="category">
            <option value="">Select a category</option>
            {% for category in categories %}
            <option value="{{ category.id }}">{{ category.name }}</option>
            {% endfor %}
        </select>
        <label for="condition">Condition:</label>
        <select id="condition" name="condition">
            <option value="new">New</option>
            <option value="used">Used</option>
            <option value="damaged">Damaged</option>
        </select>
        <button type="submit">Add Profile</button>
    </form>

    <!-- Profiles Table -->
    <h2>Existing Profiles</h2>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Keyword</th>
                <th>Min Price</th>
                <th>Max Price</th>
                <th>Location</th>
                <th>Category</th>
                <th>Condition</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for profile in profiles %}
            <tr>
                <td>{{ profile.name }}</td>
                <td>{{ profile.keyword }}</td>
                <td>{{ profile.min_price }}</td>
                <td>{{ profile.max_price }}</td>
                <td>{{ profile.location }}</td>
                <td>{{ profile.category }}</td>
                <td>{{ profile.condition }}</td>
                <td>
                    <form method="post" action="/profiles/{{ profile.id }}/edit" style="display:inline;">
                        <input type="text" name="name" value="{{ profile.name }}" required>
                        <input type="text" name="keyword" value="{{ profile.keyword }}">
                        <input type="number" name="min_price" value="{{ profile.min_price }}">
                        <input type="number" name="max_price" value="{{ profile.max_price }}">
                        <input type="text" name="location" value="{{ profile.location }}">
                        <select name="category">
                            {% for category in categories %}
                            <option value="{{ category.id }}" {% if profile.category == category.id %}selected{% endif %}>{{ category.name }}</option>
                            {% endfor %}
                        </select>
                        <select name="condition">
                            <option value="new" {% if profile.condition == "new" %}selected{% endif %}>New</option>
                            <option value="used" {% if profile.condition == "used" %}selected{% endif %}>Used</option>
                            <option value="damaged" {% if profile.condition == "damaged" %}selected{% endif %}>Damaged</option>
                        </select>
                        <button type="submit">Edit</button>
                    </form>
                    <form method="post" action="/profiles/{{ profile.id }}/delete" style="display:inline;">
                        <button type="submit">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
