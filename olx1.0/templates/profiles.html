<!DOCTYPE html>
<html>
<head>
    <title>Search Profiles</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>Manage Search Profiles</h1>

    <!-- Form to add a new profile -->
    <h2>Add New Profile</h2>
    <form method="post" action="/profiles">
        <input type="text" name="name" placeholder="Profile Name" required>
        <input type="text" name="keyword" placeholder="Keyword">
        <input type="number" name="min_price" placeholder="Min Price">
        <input type="number" name="max_price" placeholder="Max Price">
        <input type="text" name="location" placeholder="Location">
        <select name="category">
            <option value="electronics/phones">Electronics > Phones</option>
            <option value="electronics/accessories">Electronics > Accessories</option>
        </select>
        <select name="condition">
            <option value="new">New</option>
            <option value="used">Used</option>
            <option value="damaged">Damaged</option>
        </select>
        <button type="submit">Add Profile</button>
    </form>

    <!-- Table to display existing profiles -->
    <h2>Existing Profiles</h2>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Keyword</th>
                <th>Min Price</th>
                <th>Max Price</th>
                <th>Location</th>
                <th>Category</th>
                <th>Condition</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for profile in profiles %}
            <tr>
                <td>{{ profile.id }}</td>
                <td>{{ profile.name }}</td>
                <td>{{ profile.keyword }}</td>
                <td>{{ profile.min_price }}</td>
                <td>{{ profile.max_price }}</td>
                <td>{{ profile.location }}</td>
                <td>{{ profile.category }}</td>
                <td>{{ profile.condition }}</td>
                <td>
                    <!-- Edit form -->
                    <form method="post" action="/profiles/{{ profile.id }}/edit" style="display:inline;">
                        <input type="text" name="name" value="{{ profile.name }}" required>
                        <input type="text" name="keyword" value="{{ profile.keyword }}">
                        <input type="number" name="min_price" value="{{ profile.min_price }}">
                        <input type="number" name="max_price" value="{{ profile.max_price }}">
                        <input type="text" name="location" value="{{ profile.location }}">
                        <select name="category">
                            <option value="electronics/phones" {% if profile.category == "electronics/phones" %}selected{% endif %}>Electronics > Phones</option>
                            <option value="electronics/accessories" {% if profile.category == "electronics/accessories" %}selected{% endif %}>Electronics > Accessories</option>
                        </select>
                        <select name="condition">
                            <option value="new" {% if profile.condition= ="new" %}selected{% endif %}>New</option>
                            <option value="used" {% if profile.condition= ="used" %}selected{% endif %}>Used</option>
                            <option value="damaged" {% if profile.condition= ="damaged" %}selected{% endif %}>Damaged</option>
                        </select>
                        <button type="submit">Save</button>
                    </form>

                    <!-- Delete form -->
                    <form method="post" action="/profiles/{{ profile.id }}/delete" style="display:inline;">
                        <button type="submit">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
